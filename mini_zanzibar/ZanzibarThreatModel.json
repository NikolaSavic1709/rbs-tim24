{
  "version": "2.2.0",
  "summary": {
    "title": "Zanzibar",
    "owner": "",
    "description": "Zanzibar",
    "id": 0
  },
  "detail": {
    "contributors": [],
    "diagrams": [
      {
        "id": 0,
        "title": "STRIDE diagram",
        "diagramType": "STRIDE",
        "placeholder": "New STRIDE diagram description",
        "thumbnail": "./public/content/images/thumbnail.stride.jpg",
        "version": "2.2.0",
        "cells": [
          {
            "position": {
              "x": 1200,
              "y": 500
            },
            "size": {
              "width": 200,
              "height": 120
            },
            "shape": "trust-boundary-box",
            "attrs": {
              "headerText": {
                "text": ""
              }
            },
            "id": "55cc5e26-bad2-41df-b28a-328a9c45e9ae",
            "zIndex": -1,
            "data": {
              "type": "tm.BoundaryBox",
              "name": "",
              "description": "",
              "isTrustBoundary": true,
              "hasOpenThreats": false
            }
          },
          {
            "position": {
              "x": 1170,
              "y": 310
            },
            "size": {
              "width": 200,
              "height": 120
            },
            "shape": "trust-boundary-box",
            "attrs": {
              "headerText": {
                "text": ""
              }
            },
            "id": "0b391884-9264-42c9-9a2d-0a45ed2c3bed",
            "data": {
              "type": "tm.BoundaryBox",
              "name": "",
              "description": "",
              "isTrustBoundary": true,
              "hasOpenThreats": false
            },
            "zIndex": -1
          },
          {
            "position": {
              "x": 1180,
              "y": 160
            },
            "size": {
              "width": 180,
              "height": 100
            },
            "shape": "trust-boundary-box",
            "attrs": {
              "headerText": {
                "text": ""
              }
            },
            "id": "0773121a-0b5f-422b-94b3-024e1a241c0e",
            "zIndex": -1,
            "data": {
              "type": "tm.BoundaryBox",
              "name": "",
              "description": "",
              "isTrustBoundary": true,
              "hasOpenThreats": false
            }
          },
          {
            "position": {
              "x": 1160,
              "y": -30
            },
            "size": {
              "width": 200,
              "height": 120
            },
            "shape": "trust-boundary-box",
            "attrs": {
              "headerText": {
                "text": ""
              }
            },
            "id": "fa8b648e-c7be-4c38-b0cb-b63156791fe3",
            "zIndex": -1,
            "data": {
              "type": "tm.BoundaryBox",
              "name": "",
              "description": "",
              "isTrustBoundary": true,
              "hasOpenThreats": false
            }
          },
          {
            "position": {
              "x": 260,
              "y": 210
            },
            "size": {
              "width": 110,
              "height": 100
            },
            "attrs": {
              "text": {
                "text": "Load balancer"
              },
              "body": {
                "stroke": "#333333",
                "strokeWidth": 1.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "process",
            "zIndex": 1,
            "id": "52c9cb67-2d11-4a23-81fe-1677e0a65dfe",
            "data": {
              "type": "tm.Process",
              "name": "Load balancer",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "handlesCardPayment": false,
              "handlesGoodsOrServices": false,
              "isWebApplication": false,
              "privilegeLevel": "",
              "threats": [
                {
                  "id": "2a3439b2-688d-4e72-a14c-768b314a298e",
                  "title": "Sensitive Data in Cache Memory",
                  "status": "Mitigated",
                  "severity": "Medium",
                  "type": "Information disclosure",
                  "description": "Attacker can steal sensitive data from cache memory if load balancer cache memory is not implemented correctly",
                  "mitigation": "Sensitive data is not stored in cache memory in load balancer, especially for different users",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 10,
                  "score": ""
                }
              ]
            }
          },
          {
            "position": {
              "x": -190,
              "y": 240
            },
            "size": {
              "width": 112.5,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "Client"
              },
              "body": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "actor",
            "zIndex": 2,
            "id": "a602d7f3-36c2-442d-bb40-30be5af8fbe6",
            "data": {
              "type": "tm.Actor",
              "name": "Client",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": true,
              "providesAuthentication": false,
              "threats": [
                {
                  "id": "8ef234d1-2308-4fcb-91cc-271f9ea3716f",
                  "title": "JWT threat",
                  "status": "Open",
                  "severity": "Medium",
                  "type": "Spoofing",
                  "description": "An attacker steals the authentication token of a legitimate user and uses it to impersonate the user.",
                  "mitigation": "1. Ensure that authentication tokens are encrypted during transmission and storage. Use secure encryption algorithms and protocols to prevent attackers from intercepting and decrypting tokens.\n2. Implement short expiration periods for authentication tokens. By limiting the lifespan of tokens, even if an attacker manages to steal one, its usefulness will be limited in time.",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 4,
                  "score": ""
                }
              ]
            }
          },
          {
            "position": {
              "x": 1210,
              "y": 0
            },
            "size": {
              "width": 120,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "postgreSQL"
              },
              "topLine": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              },
              "bottomLine": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "store",
            "zIndex": 3,
            "id": "d27079b1-4287-4fd6-ae49-a3230ac2dfcd",
            "data": {
              "type": "tm.Store",
              "name": "postgreSQL",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": true,
              "isALog": false,
              "isEncrypted": false,
              "isSigned": false,
              "storesCredentials": false,
              "storesInventory": false,
              "threats": [
                {
                  "id": "bc854008-f5f2-4f5f-82e7-e21693e9dfcd",
                  "title": "Info threat",
                  "status": "Open",
                  "severity": "Medium",
                  "type": "Information disclosure",
                  "description": "An attacker extract data from a database containing user account info.",
                  "mitigation": "1. Encrypt sensitive data stored in the database, especially user account information such as passwords, email addresses, and personal details. Use strong encryption algorithms and ensure that encryption keys are securely managed and stored.\n2.  Implement strict access controls to limit access to the database to authorized personnel only. Use role-based access control (RBAC) mechanisms to ensure that users and administrators have the minimum necessary privileges required to perform their tasks.",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 3,
                  "score": ""
                }
              ]
            }
          },
          {
            "position": {
              "x": 600,
              "y": -40
            },
            "size": {
              "width": 110,
              "height": 100
            },
            "attrs": {
              "text": {
                "text": "mini-zanzibar1"
              },
              "body": {
                "stroke": "#333333",
                "strokeWidth": 1.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "process",
            "zIndex": 5,
            "id": "f338bd00-f0a8-4fe7-89b7-70db0dc5c514",
            "data": {
              "type": "tm.Process",
              "name": "mini-zanzibar1",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "handlesCardPayment": false,
              "handlesGoodsOrServices": false,
              "isWebApplication": false,
              "privilegeLevel": "",
              "threats": [
                {
                  "id": "5be52565-751f-407b-9d13-1063beb06925",
                  "title": "Relation disclosure",
                  "status": "Mitigated",
                  "severity": "Medium",
                  "type": "Information disclosure",
                  "description": "User can see all calculated relations",
                  "mitigation": "User can see only his own relations or relations on a namespace where he has \"owner\" relation",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 11,
                  "score": ""
                },
                {
                  "id": "6bbdcdc9-f535-404d-99c4-c602580d3ddf",
                  "title": "Resource creation threat",
                  "status": "Mitigated",
                  "severity": "Medium",
                  "type": "Tampering",
                  "description": "",
                  "mitigation": "Only authorized users can create namespace or ACL",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 12,
                  "score": ""
                },
                {
                  "id": "45d18664-fcaa-471d-a979-502296080086",
                  "title": "ACL creation threat",
                  "status": "Mitigated",
                  "severity": "Medium",
                  "type": "Tampering",
                  "description": "User can create ACL on somebody's else namespace",
                  "mitigation": "Only user with relation \"owner\" can create an ACL for that namespace",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 13,
                  "score": ""
                }
              ]
            }
          },
          {
            "position": {
              "x": 580,
              "y": 250
            },
            "size": {
              "width": 150,
              "height": 100
            },
            "attrs": {
              "text": {
                "text": "mini-zanzibar2"
              },
              "body": {
                "stroke": "#333333",
                "strokeWidth": 1.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "process",
            "zIndex": 6,
            "id": "062fb5ab-94d7-4485-8f02-2579ad4b867a",
            "data": {
              "type": "tm.Process",
              "name": "mini-zanzibar2",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "handlesCardPayment": false,
              "handlesGoodsOrServices": false,
              "isWebApplication": false,
              "privilegeLevel": "",
              "threats": [
                {
                  "id": "5be52565-751f-407b-9d13-1063beb06925",
                  "title": "Relation disclosure",
                  "status": "Mitigated",
                  "severity": "Medium",
                  "type": "Information disclosure",
                  "description": "User can see all calculated relations",
                  "mitigation": "User can see only his own relations or relations on a namespace where he has \"owner\" relation",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 11,
                  "score": ""
                },
                {
                  "id": "6bbdcdc9-f535-404d-99c4-c602580d3ddf",
                  "title": "Resource creation threat",
                  "status": "Mitigated",
                  "severity": "Medium",
                  "type": "Tampering",
                  "description": "",
                  "mitigation": "Only authorized users can create namespace or ACL",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 12,
                  "score": ""
                },
                {
                  "id": "45d18664-fcaa-471d-a979-502296080086",
                  "title": "ACL creation threat",
                  "status": "Mitigated",
                  "severity": "Medium",
                  "type": "Tampering",
                  "description": "User can create ACL on somebody's else namespace",
                  "mitigation": "Only user with relation \"owner\" can create an ACL for that namespace",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 13,
                  "score": ""
                }
              ]
            }
          },
          {
            "position": {
              "x": 563,
              "y": 490
            },
            "size": {
              "width": 100,
              "height": 90
            },
            "attrs": {
              "text": {
                "text": "mini-zanzibar3"
              },
              "body": {
                "stroke": "#333333",
                "strokeWidth": 1.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "process",
            "zIndex": 7,
            "id": "d43ba78d-13e5-4b64-af56-dbe44b987802",
            "data": {
              "type": "tm.Process",
              "name": "mini-zanzibar3",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "handlesCardPayment": false,
              "handlesGoodsOrServices": false,
              "isWebApplication": false,
              "privilegeLevel": "",
              "threats": [
                {
                  "id": "5be52565-751f-407b-9d13-1063beb06925",
                  "title": "Relation disclosure",
                  "status": "Mitigated",
                  "severity": "Medium",
                  "type": "Information disclosure",
                  "description": "User can see all calculated relations",
                  "mitigation": "User can see only his own relations or relations on a namespace where he has \"owner\" relation",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 11,
                  "score": ""
                },
                {
                  "id": "6bbdcdc9-f535-404d-99c4-c602580d3ddf",
                  "title": "Resource creation threat",
                  "status": "Mitigated",
                  "severity": "Medium",
                  "type": "Tampering",
                  "description": "",
                  "mitigation": "Only authorized users can create namespace or ACL",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 12,
                  "score": ""
                },
                {
                  "id": "45d18664-fcaa-471d-a979-502296080086",
                  "title": "ACL creation threat",
                  "status": "Mitigated",
                  "severity": "Medium",
                  "type": "Tampering",
                  "description": "User can create ACL on somebody's else namespace",
                  "mitigation": "Only user with relation \"owner\" can create an ACL for that namespace",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 13,
                  "score": ""
                }
              ]
            }
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Data Flow",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "ec860494-3106-4be0-90cd-76f7af3a0f61",
            "labels": [
              "web request"
            ],
            "source": {
              "cell": "52c9cb67-2d11-4a23-81fe-1677e0a65dfe"
            },
            "target": {
              "cell": "f338bd00-f0a8-4fe7-89b7-70db0dc5c514"
            },
            "vertices": [
              {
                "x": 410,
                "y": 220
              },
              {
                "x": 480,
                "y": 160
              }
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "web response",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "f095d68a-4af6-464a-a2ac-57007ed187d7",
            "labels": [
              "web response"
            ],
            "source": {
              "cell": "f338bd00-f0a8-4fe7-89b7-70db0dc5c514"
            },
            "target": {
              "cell": "a602d7f3-36c2-442d-bb40-30be5af8fbe6"
            },
            "vertices": [
              {
                "x": 220,
                "y": 140
              }
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "web response",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "93957329-70aa-4ec2-8e02-342e3af0eb38",
            "labels": [
              "web response"
            ],
            "source": {
              "cell": "d43ba78d-13e5-4b64-af56-dbe44b987802"
            },
            "target": {
              "cell": "a602d7f3-36c2-442d-bb40-30be5af8fbe6"
            },
            "vertices": [
              {
                "x": 160,
                "y": 550
              }
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "web response",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "d094fd9c-683f-40e5-b949-8549cae93a60",
            "labels": [
              "web response"
            ],
            "source": {
              "cell": "062fb5ab-94d7-4485-8f02-2579ad4b867a"
            },
            "target": {
              "cell": "a602d7f3-36c2-442d-bb40-30be5af8fbe6"
            },
            "vertices": [
              {
                "x": 230,
                "y": 350
              }
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "web request",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "dbb9e8df-53a8-495f-bf89-53b4a8e0dd7e",
            "source": {
              "x": 340,
              "y": 300
            },
            "target": {
              "cell": "d43ba78d-13e5-4b64-af56-dbe44b987802"
            },
            "vertices": [
              {
                "x": 450,
                "y": 380
              }
            ],
            "labels": [
              "web request"
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "web request",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "7d263473-5a8b-4a6b-b795-8d087fd4bb29",
            "labels": [
              "web request"
            ],
            "source": {
              "cell": "52c9cb67-2d11-4a23-81fe-1677e0a65dfe"
            },
            "target": {
              "cell": "062fb5ab-94d7-4485-8f02-2579ad4b867a"
            },
            "vertices": [
              {
                "x": 440,
                "y": 250
              }
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "query",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "b723e048-c594-4d7d-baaf-1468bac0ace4",
            "labels": [
              "query"
            ],
            "source": {
              "cell": "f338bd00-f0a8-4fe7-89b7-70db0dc5c514"
            },
            "target": {
              "cell": "d27079b1-4287-4fd6-ae49-a3230ac2dfcd"
            },
            "vertices": [
              {
                "x": 940,
                "y": -90
              }
            ]
          },
          {
            "shape": "trust-boundary-curve",
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Boundary",
              "name": "",
              "description": "",
              "isTrustBoundary": true,
              "hasOpenThreats": false
            },
            "id": "0c7c98af-e070-4316-a224-de4824944059",
            "source": {
              "x": 720,
              "y": 210
            },
            "target": {
              "x": 760,
              "y": 220
            },
            "vertices": [
              {
                "x": 670,
                "y": 200
              },
              {
                "x": 510,
                "y": 250
              },
              {
                "x": 510,
                "y": 370
              },
              {
                "x": 740,
                "y": 410
              },
              {
                "x": 850,
                "y": 330
              }
            ]
          },
          {
            "shape": "trust-boundary-curve",
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Boundary",
              "name": "",
              "description": "",
              "isTrustBoundary": true,
              "hasOpenThreats": false
            },
            "id": "a5883783-8530-4f12-b3eb-4ce21180a873",
            "source": {
              "x": 500,
              "y": 660
            },
            "target": {
              "x": 740,
              "y": 600
            },
            "vertices": [
              {
                "x": 570,
                "y": 460
              },
              {
                "x": 690,
                "y": 480
              }
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "query results",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "ff2d3039-f539-4a8c-a57f-30b7c64213fc",
            "labels": [
              "query results"
            ],
            "source": {
              "cell": "d27079b1-4287-4fd6-ae49-a3230ac2dfcd"
            },
            "target": {
              "cell": "f338bd00-f0a8-4fe7-89b7-70db0dc5c514"
            },
            "vertices": [
              {
                "x": 910,
                "y": -60
              }
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "query results",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "4057e178-a0d9-474b-8cdb-8002ef816322",
            "source": {
              "cell": "6352e415-93ed-480c-a9bf-5a2662ff61f2"
            },
            "target": {
              "cell": "f338bd00-f0a8-4fe7-89b7-70db0dc5c514"
            },
            "vertices": [
              {
                "x": 950,
                "y": 50
              }
            ],
            "labels": [
              "query results"
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "query",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "f25b9525-f5a9-4ca7-a62f-352282197ae9",
            "source": {
              "x": 695,
              "y": 30
            },
            "target": {
              "cell": "6352e415-93ed-480c-a9bf-5a2662ff61f2"
            },
            "vertices": [
              {
                "x": 940,
                "y": 120
              },
              {
                "x": 1080,
                "y": 160
              }
            ],
            "labels": [
              "query"
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "query",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "ec619af3-191b-4e0b-916d-5617ed5168c6",
            "source": {
              "cell": "f338bd00-f0a8-4fe7-89b7-70db0dc5c514"
            },
            "target": {
              "cell": "049230b3-f125-4874-be6b-3f925b8d75a2"
            },
            "vertices": [
              {
                "x": 900,
                "y": 170
              }
            ],
            "labels": [
              "query"
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "query results",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "b5a68ef9-f954-4015-afeb-f972fcfb1424",
            "source": {
              "cell": "049230b3-f125-4874-be6b-3f925b8d75a2"
            },
            "target": {
              "cell": "f338bd00-f0a8-4fe7-89b7-70db0dc5c514"
            },
            "vertices": [
              {
                "x": 900,
                "y": 220
              }
            ],
            "labels": [
              "query results"
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Logging",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "44d13760-c2bc-40d7-b819-b38eb8e03f00",
            "source": {
              "cell": "f338bd00-f0a8-4fe7-89b7-70db0dc5c514"
            },
            "target": {
              "cell": "4a55d7f3-d771-4fc4-8e5a-4ac665569527"
            },
            "vertices": [
              {
                "x": 790,
                "y": 220
              }
            ],
            "labels": [
              "Logging"
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Data Flow",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "f80b3ccd-c2ab-4d9e-bb4a-21909b644327",
            "source": {
              "cell": "a602d7f3-36c2-442d-bb40-30be5af8fbe6"
            },
            "target": {
              "cell": "d8f14dc6-4e48-47f5-8d48-22f84240adc8"
            },
            "vertices": []
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Data Flow",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "0f26dc71-2db6-4674-9aeb-935b2cbe3ee0",
            "source": {
              "cell": "d8f14dc6-4e48-47f5-8d48-22f84240adc8"
            },
            "target": {
              "cell": "52c9cb67-2d11-4a23-81fe-1677e0a65dfe"
            },
            "vertices": []
          },
          {
            "shape": "trust-boundary-curve",
            "width": 200,
            "height": 100,
            "zIndex": 11,
            "connector": "smooth",
            "data": {
              "type": "tm.Boundary",
              "name": "",
              "description": "",
              "isTrustBoundary": true,
              "hasOpenThreats": false
            },
            "id": "8b6dab35-77ee-4ede-9829-c7b0dcf915ef",
            "source": {
              "x": 490,
              "y": -10
            },
            "target": {
              "x": 820,
              "y": -100
            },
            "vertices": [
              {
                "x": 560,
                "y": 170
              },
              {
                "x": 760,
                "y": 110
              }
            ]
          },
          {
            "position": {
              "x": 1210,
              "y": 180
            },
            "size": {
              "width": 120,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "consulDB"
              },
              "topLine": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              },
              "bottomLine": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "store",
            "id": "6352e415-93ed-480c-a9bf-5a2662ff61f2",
            "data": {
              "type": "tm.Store",
              "name": "consulDB",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": true,
              "isALog": false,
              "isEncrypted": false,
              "isSigned": false,
              "storesCredentials": false,
              "storesInventory": false,
              "threats": [
                {
                  "id": "bc854008-f5f2-4f5f-82e7-e21693e9dfcd",
                  "title": "Info threat",
                  "status": "Open",
                  "severity": "Medium",
                  "type": "Information disclosure",
                  "description": "An attacker extract data from a database containing user account info.",
                  "mitigation": "1. Encrypt sensitive data stored in the database, especially user account information such as passwords, email addresses, and personal details. Use strong encryption algorithms and ensure that encryption keys are securely managed and stored.\n2.  Implement strict access controls to limit access to the database to authorized personnel only. Use role-based access control (RBAC) mechanisms to ensure that users and administrators have the minimum necessary privileges required to perform their tasks.",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 3,
                  "score": ""
                }
              ]
            },
            "zIndex": 17
          },
          {
            "position": {
              "x": 1220,
              "y": 340
            },
            "size": {
              "width": 120,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "redisDB"
              },
              "topLine": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              },
              "bottomLine": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "store",
            "id": "049230b3-f125-4874-be6b-3f925b8d75a2",
            "data": {
              "type": "tm.Store",
              "name": "redisDB",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": true,
              "isALog": false,
              "isEncrypted": false,
              "isSigned": false,
              "storesCredentials": false,
              "storesInventory": false,
              "threats": [
                {
                  "id": "bc854008-f5f2-4f5f-82e7-e21693e9dfcd",
                  "title": "Info threat",
                  "status": "Open",
                  "severity": "Medium",
                  "type": "Information disclosure",
                  "description": "An attacker extract data from a database containing user account info.",
                  "mitigation": "1. Encrypt sensitive data stored in the database, especially user account information such as passwords, email addresses, and personal details. Use strong encryption algorithms and ensure that encryption keys are securely managed and stored.\n2.  Implement strict access controls to limit access to the database to authorized personnel only. Use role-based access control (RBAC) mechanisms to ensure that users and administrators have the minimum necessary privileges required to perform their tasks.",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 3,
                  "score": ""
                }
              ]
            },
            "zIndex": 18
          },
          {
            "position": {
              "x": 1240,
              "y": 540
            },
            "size": {
              "width": 120,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "Log storage"
              },
              "topLine": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              },
              "bottomLine": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "store",
            "id": "4a55d7f3-d771-4fc4-8e5a-4ac665569527",
            "data": {
              "type": "tm.Store",
              "name": "Log storage",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": true,
              "isALog": false,
              "isEncrypted": false,
              "isSigned": false,
              "storesCredentials": false,
              "storesInventory": false,
              "threats": [
                {
                  "id": "bc854008-f5f2-4f5f-82e7-e21693e9dfcd",
                  "title": "Log manipulation threat",
                  "status": "Open",
                  "severity": "Medium",
                  "type": "Repudiation",
                  "description": "An attacker manipulates logs to cover their actions.",
                  "mitigation": "1. Implement measures to ensure the integrity of logs, such as using cryptographic hashes or digital signatures to detect any alterations to log files.\n2. Regularly back up log files and store them securely in multiple locations. Having redundant copies of log files ensures that even if logs are manipulated or deleted, there are backup copies available for analysis.",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 3,
                  "score": ""
                }
              ]
            },
            "zIndex": 19
          },
          {
            "position": {
              "x": 59,
              "y": 230
            },
            "size": {
              "width": 60,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "Reverse\nProxy"
              },
              "body": {
                "stroke": "#333333",
                "strokeWidth": 1.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "process",
            "id": "d8f14dc6-4e48-47f5-8d48-22f84240adc8",
            "zIndex": 20,
            "data": {
              "type": "tm.Process",
              "name": "Reverse\nProxy",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "handlesCardPayment": false,
              "handlesGoodsOrServices": false,
              "isWebApplication": false,
              "privilegeLevel": "",
              "threats": [
                {
                  "id": "784f9c5d-df39-4126-a87a-d2403481c9d5",
                  "title": "Secure Transport (SSL/TLS)",
                  "status": "Mitigated",
                  "severity": "Medium",
                  "type": "Information disclosure",
                  "description": "Force user to use HTTPS instead of unsecure HTTP",
                  "mitigation": "Implemented HTTPS using self signed certificate.",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 8,
                  "score": ""
                },
                {
                  "id": "da670182-f190-4a66-b279-33f94d3f1502",
                  "title": "DoS Attack Threat",
                  "status": "Mitigated",
                  "severity": "Medium",
                  "type": "Denial of service",
                  "description": "An attacker locks a legitimate user out of their account by performing many failed authentication attempts",
                  "mitigation": "Added rate limit 10 requests every 1s for all users.",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 9,
                  "score": ""
                }
              ]
            }
          }
        ]
      }
    ],
    "diagramTop": 1,
    "reviewer": "",
    "threatTop": 13
  }
}